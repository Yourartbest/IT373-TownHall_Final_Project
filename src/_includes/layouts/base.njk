<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    {# Primary SEO Meta Tags #}
    <title>{{ title or site.title }}</title>
    <meta name="title" content="{{ title or site.title }}" />
    <meta name="description" content="{{ description or site.description }}" />
    <meta name="author" content="{{ site.author }}" />

    {# Open Graph / Facebook #}
    <meta property="og:type" content="website" />
    <meta property="og:url" content="{{ page.url | url | absoluteUrl(site.url) }}" />
    <meta property="og:title" content="{{ title or site.title }}" />
    <meta property="og:description" content="{{ description or site.description }}" />
    <meta
      property="og:image"
      content="{{ (image or '/images/og-default.jpg') | url | absoluteUrl(site.url) }}"
    />
    <meta property="og:image:width" content="1200" />
    <meta property="og:image:height" content="630" />

    {# Twitter Card #}
    <meta property="twitter:card" content="summary_large_image" />
    <meta property="twitter:url" content="{{ page.url | url | absoluteUrl(site.url) }}" />
    <meta property="twitter:title" content="{{ title or site.title }}" />
    <meta property="twitter:description" content="{{ description or site.description }}" />
    <meta
      property="twitter:image"
      content="{{ (image or '/images/og-default.jpg') | url | absoluteUrl(site.url) }}"
    />

    {# Favicon #}
    <link rel="icon" type="image/svg+xml" href="{{ '/favicon.svg' | url }}" />
    <link rel="alternate icon" href="{{ '/favicon.ico' | url }}" />

    {# Preconnect for Performance #}
    <link rel="dns-prefetch" href="https://ajcjdayi.api.sanity.io" />
    <link rel="preconnect" href="https://cdn.sanity.io" crossorigin />

    {# Stylesheet #}
    <link rel="stylesheet" href="{{ '/css/styles.css' | url }}" />

    {# Schema.org JSON-LD #}
    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "Organization",
        "name": "{{ site.title }}",
        "url": "{{ site.url }}",
        "logo": "{{ '/favicon.svg' | url | absoluteUrl(site.url) }}",
        "description": "{{ site.description }}",
        "address": {
          "@type": "PostalAddress",
          "addressLocality": "Newark",
          "addressRegion": "NJ",
          "addressCountry": "US"
        }
      }
    </script>
  </head>
  <body class="bg-white text-black">
    {# Skip Link for Accessibility #}
    <a href="#main-content" class="skip-link">Skip to main content</a>

    {# Header / Navigation #}
    <header role="banner" class="header">
      <div class="container">
        <nav aria-label="Main navigation" class="nav">
          <div class="nav-brand">
            <a href="{{ '/' | url }}" class="nav-logo" aria-label="Newark AI Town Hall Home">
              NEWARK AI
            </a>
          </div>

          {# Desktop Navigation #}
          <div class="nav-links" id="nav-links">
            <a href="{{ '/#events' | url }}" class="nav-link">Events</a>
            <a href="{{ '/resources/' | url }}" class="nav-link">Resources</a>
            <a href="{{ '/volunteer/' | url }}" class="nav-link">Volunteer</a>
            <a href="{{ '/about/' | url }}" class="nav-link">About</a>
          </div>

          {# Mobile Menu Button #}
          <button
            type="button"
            class="mobile-menu-btn"
            data-testid="mobile-menu-button"
            aria-controls="mobile-menu"
            aria-expanded="false"
            aria-label="Toggle navigation menu"
          >
            <svg
              width="24"
              height="24"
              fill="none"
              stroke="currentColor"
              stroke-width="3"
              aria-hidden="true"
            >
              <line x1="3" y1="6" x2="21" y2="6" />
              <line x1="3" y1="12" x2="21" y2="12" />
              <line x1="3" y1="18" x2="21" y2="18" />
            </svg>
            <span class="sr-only">Open menu</span>
          </button>
        </nav>
      </div>
    </header>

    {# Mobile Menu Overlay #}
    <div
      id="mobile-menu"
      class="mobile-menu hidden"
      aria-hidden="true"
      role="dialog"
      aria-modal="true"
      aria-labelledby="mobile-menu-title"
    >
      <div class="mobile-menu-content">
        <h2 id="mobile-menu-title" class="sr-only">Navigation Menu</h2>
        <nav aria-label="Mobile navigation">
          <a href="{{ '/#events' | url }}" class="mobile-menu-link">Events</a>
          <a href="{{ '/resources/' | url }}" class="mobile-menu-link">Resources</a>
          <a href="{{ '/volunteer/' | url }}" class="mobile-menu-link">Volunteer</a>
          <a href="{{ '/about/' | url }}" class="mobile-menu-link">About</a>
        </nav>
      </div>
    </div>

    {# Main Content #}
    <main id="main-content" role="main" tabindex="-1">{{ content | safe }}</main>

    {# Footer #}
    <footer role="contentinfo" class="footer">
      <div class="container">
        <div class="footer-content">
          <div class="footer-section">
            <h3 class="footer-heading">Newark AI Town Hall</h3>
            <p class="footer-text">Making AI education accessible for everyone in Newark.</p>
          </div>

          <div class="footer-section">
            <h3 class="footer-heading">Quick Links</h3>
            <nav aria-label="Footer navigation">
              <a href="{{ '/#events' | url }}" class="footer-link">Events</a>
              <a href="{{ '/resources/' | url }}" class="footer-link">Resources</a>
              <a href="{{ '/volunteer/' | url }}" class="footer-link">Volunteer</a>
              <a href="{{ '/privacy/' | url }}" class="footer-link">Privacy Policy</a>
            </nav>
          </div>

          <div class="footer-section">
            <h3 class="footer-heading">Connect</h3>
            <a
              href="https://discord.gg/newark-ai"
              class="footer-link"
              target="_blank"
              rel="noopener noreferrer"
            >
              Join Discord Community
            </a>
          </div>
        </div>

        <div class="footer-bottom">
          <p>&copy; 2025 Newark AI Town Hall. All rights reserved.</p>
        </div>
      </div>
    </footer>

    {# JavaScript #}
    <script src="{{ '/js/mobile-menu.js' | url }}"></script>
  </body>
</html>
