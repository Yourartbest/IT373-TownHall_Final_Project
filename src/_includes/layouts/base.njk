<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    {# Primary SEO Meta Tags #}
    <title>{{ title or site.title }}</title>
    <meta name="title" content="{{ title or site.title }}" />
    <meta name="description" content="{{ description or site.description }}" />
    <meta name="author" content="{{ site.author }}" />

    {# Open Graph / Facebook #}
    <meta property="og:type" content="website" />
    <meta property="og:url" content="{{ page.url | url | absoluteUrl(site.url) }}" />
    <meta property="og:title" content="{{ title or site.title }}" />
    <meta property="og:description" content="{{ description or site.description }}" />
    <meta
      property="og:image"
      content="{{ (image or '/images/og-default.jpg') | url | absoluteUrl(site.url) }}"
    />
    <meta property="og:image:width" content="1200" />
    <meta property="og:image:height" content="630" />

    {# Twitter Card #}
    <meta property="twitter:card" content="summary_large_image" />
    <meta property="twitter:url" content="{{ page.url | url | absoluteUrl(site.url) }}" />
    <meta property="twitter:title" content="{{ title or site.title }}" />
    <meta property="twitter:description" content="{{ description or site.description }}" />
    <meta
      property="twitter:image"
      content="{{ (image or '/images/og-default.jpg') | url | absoluteUrl(site.url) }}"
    />

    {# Theme Color #}
    <meta name="theme-color" content="#1e3a5f" />

    {# Favicon #}
    <link rel="icon" type="image/svg+xml" href="{{ '/favicon.svg' | url }}" />
    <link rel="alternate icon" href="{{ '/favicon.ico' | url }}" />

    {# Preconnect for Performance #}
    <link rel="dns-prefetch" href="https://ajcjdayi.api.sanity.io" />
    <link rel="preconnect" href="https://cdn.sanity.io" crossorigin />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />

    {# Neo-Minimalist Typography - Google Fonts #}
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&display=swap"
      rel="stylesheet"
    />

    {# Stylesheet #}
    <link rel="stylesheet" href="{{ '/css/styles.css' | url }}" />

    {# Schema.org JSON-LD #}
    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "Organization",
        "name": "{{ site.title }}",
        "url": "{{ site.url }}",
        "logo": "{{ '/favicon.svg' | url | absoluteUrl(site.url) }}",
        "description": "{{ site.description }}",
        "address": {
          "@type": "PostalAddress",
          "addressLocality": "Newark",
          "addressRegion": "NJ",
          "addressCountry": "US"
        }
      }
    </script>
  </head>
  <body class="bg-white text-black">
    {# Skip Link for Accessibility #}
    <a href="#main-content" class="skip-link">Skip to main content</a>

    {# Header / Navigation #}
    <header role="banner" class="header">
      <div class="container">
        <nav aria-label="Main navigation" class="nav">
          <div class="nav-brand">
            <a href="{{ '/' | url }}" class="nav-logo" aria-label="Newark AI Town Hall Home">
              NEWARK AI
            </a>
          </div>

          {# Desktop Navigation #}
          <div class="nav-links" id="nav-links">
            <a href="{{ '/about/' | url }}" class="nav-link">About</a>
            <a href="{{ '/events/' | url }}" class="nav-link">Events</a>
            <a href="{{ '/blog/' | url }}" class="nav-link">Blog</a>
            <a href="{{ '/volunteer/' | url }}" class="nav-link">Volunteer</a>
          </div>

          {# Mobile Menu Button #}
          <button
            type="button"
            class="mobile-menu-btn"
            data-testid="mobile-menu-button"
            aria-controls="mobile-menu"
            aria-expanded="false"
            aria-label="Toggle navigation menu"
          >
            <svg
              width="24"
              height="24"
              fill="none"
              stroke="currentColor"
              stroke-width="3"
              aria-hidden="true"
            >
              <line x1="3" y1="6" x2="21" y2="6" />
              <line x1="3" y1="12" x2="21" y2="12" />
              <line x1="3" y1="18" x2="21" y2="18" />
            </svg>
            <span class="sr-only">Open menu</span>
          </button>
        </nav>
      </div>
    </header>

    {# Mobile Menu Overlay #}
    <div
      id="mobile-menu"
      class="mobile-menu hidden"
      aria-hidden="true"
      role="dialog"
      aria-modal="true"
      aria-labelledby="mobile-menu-title"
    >
      <div class="mobile-menu-content">
        <h2 id="mobile-menu-title" class="sr-only">Navigation Menu</h2>
        <nav aria-label="Mobile navigation">
          <a href="{{ '/about/' | url }}" class="mobile-menu-link">About</a>
          <a href="{{ '/events/' | url }}" class="mobile-menu-link">Events</a>
          <a href="{{ '/blog/' | url }}" class="mobile-menu-link">Blog</a>
          <a href="{{ '/volunteer/' | url }}" class="mobile-menu-link">Volunteer</a>
        </nav>
      </div>
    </div>

    {# Main Content #}
    <main id="main-content" role="main" tabindex="-1">{{ content | safe }}</main>

    {# Footer - Neo-Minimalist #}
    <footer
      role="contentinfo"
      style="
        background: var(--color-gray-900);
        color: white;
        padding: var(--grid-16) 0 var(--grid-8);
      "
    >
      <div class="container">
        <div
          style="
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: var(--grid-12);
            margin-bottom: var(--grid-12);
          "
        >
          {# Brand Section #}
          <div>
            <div
              style="
                font-size: var(--text-xl);
                font-weight: 600;
                margin-bottom: var(--grid-4);
                color: white;
              "
            >
              Newark AI
            </div>
            <p
              style="
                color: var(--color-gray-400);
                font-size: var(--text-sm);
                line-height: 1.6;
                max-width: 280px;
              "
            >
              Making AI education accessible, practical, and welcoming for every Newark resident.
            </p>
          </div>

          {# Quick Links #}
          <div>
            <h3
              style="
                font-size: var(--text-sm);
                font-weight: 600;
                text-transform: uppercase;
                letter-spacing: 0.05em;
                margin-bottom: var(--grid-4);
                color: var(--color-gray-400);
              "
            >
              Explore
            </h3>
            <nav
              aria-label="Footer navigation"
              style="display: flex; flex-direction: column; gap: var(--grid-3)"
            >
              <a
                href="{{ '/events/overview/' | url }}"
                style="
                  color: var(--color-gray-300);
                  text-decoration: none;
                  font-size: var(--text-sm);
                  transition: color var(--transition-base);
                "
                onmouseover="this.style.color = 'white'"
                onmouseout="this.style.color = 'var(--color-gray-300)'"
                >Events</a
              >
              <a
                href="{{ '/blog/' | url }}"
                style="
                  color: var(--color-gray-300);
                  text-decoration: none;
                  font-size: var(--text-sm);
                  transition: color var(--transition-base);
                "
                onmouseover="this.style.color = 'white'"
                onmouseout="this.style.color = 'var(--color-gray-300)'"
                >Blog</a
              >
              <a
                href="{{ '/resources/what-is-ai/' | url }}"
                style="
                  color: var(--color-gray-300);
                  text-decoration: none;
                  font-size: var(--text-sm);
                  transition: color var(--transition-base);
                "
                onmouseover="this.style.color = 'white'"
                onmouseout="this.style.color = 'var(--color-gray-300)'"
                >What is AI?</a
              >
              <a
                href="{{ '/volunteer/' | url }}"
                style="
                  color: var(--color-gray-300);
                  text-decoration: none;
                  font-size: var(--text-sm);
                  transition: color var(--transition-base);
                "
                onmouseover="this.style.color = 'white'"
                onmouseout="this.style.color = 'var(--color-gray-300)'"
                >Volunteer</a
              >
            </nav>
          </div>

          {# Legal #}
          <div>
            <h3
              style="
                font-size: var(--text-sm);
                font-weight: 600;
                text-transform: uppercase;
                letter-spacing: 0.05em;
                margin-bottom: var(--grid-4);
                color: var(--color-gray-400);
              "
            >
              Legal
            </h3>
            <nav style="display: flex; flex-direction: column; gap: var(--grid-3)">
              <a
                href="{{ '/privacy/' | url }}"
                style="
                  color: var(--color-gray-300);
                  text-decoration: none;
                  font-size: var(--text-sm);
                  transition: color var(--transition-base);
                "
                onmouseover="this.style.color = 'white'"
                onmouseout="this.style.color = 'var(--color-gray-300)'"
                >Privacy Policy</a
              >
            </nav>
          </div>

          {# Connect #}
          <div>
            <h3
              style="
                font-size: var(--text-sm);
                font-weight: 600;
                text-transform: uppercase;
                letter-spacing: 0.05em;
                margin-bottom: var(--grid-4);
                color: var(--color-gray-400);
              "
            >
              Connect
            </h3>
            <a
              href="https://discord.gg/newark-ai"
              target="_blank"
              rel="noopener noreferrer"
              style="
                display: inline-flex;
                align-items: center;
                gap: var(--grid-2);
                background: var(--color-gray-800);
                color: white;
                padding: var(--grid-3) var(--grid-4);
                border-radius: var(--radius-lg);
                text-decoration: none;
                font-size: var(--text-sm);
                font-weight: 500;
                transition: background var(--transition-base);
              "
              onmouseover="this.style.background = 'var(--color-gray-700)'"
              onmouseout="this.style.background = 'var(--color-gray-800)'"
            >
              <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                <path
                  d="M20.317 4.37a19.791 19.791 0 0 0-4.885-1.515.074.074 0 0 0-.079.037c-.21.375-.444.864-.608 1.25a18.27 18.27 0 0 0-5.487 0 12.64 12.64 0 0 0-.617-1.25.077.077 0 0 0-.079-.037A19.736 19.736 0 0 0 3.677 4.37a.07.07 0 0 0-.032.027C.533 9.046-.32 13.58.099 18.057a.082.082 0 0 0 .031.057 19.9 19.9 0 0 0 5.993 3.03.078.078 0 0 0 .084-.028 14.09 14.09 0 0 0 1.226-1.994.076.076 0 0 0-.041-.106 13.107 13.107 0 0 1-1.872-.892.077.077 0 0 1-.008-.128 10.2 10.2 0 0 0 .372-.292.074.074 0 0 1 .077-.01c3.928 1.793 8.18 1.793 12.062 0a.074.074 0 0 1 .078.01c.12.098.246.198.373.292a.077.077 0 0 1-.006.127 12.299 12.299 0 0 1-1.873.892.077.077 0 0 0-.041.107c.36.698.772 1.362 1.225 1.993a.076.076 0 0 0 .084.028 19.839 19.839 0 0 0 6.002-3.03.077.077 0 0 0 .032-.054c.5-5.177-.838-9.674-3.549-13.66a.061.061 0 0 0-.031-.03zM8.02 15.33c-1.183 0-2.157-1.085-2.157-2.419 0-1.333.956-2.419 2.157-2.419 1.21 0 2.176 1.096 2.157 2.42 0 1.333-.956 2.418-2.157 2.418zm7.975 0c-1.183 0-2.157-1.085-2.157-2.419 0-1.333.955-2.419 2.157-2.419 1.21 0 2.176 1.096 2.157 2.42 0 1.333-.946 2.418-2.157 2.418z"
                />
              </svg>
              Join Discord
            </a>
          </div>
        </div>

        {# Bottom Bar #}
        <div
          style="
            border-top: 1px solid var(--color-gray-800);
            padding-top: var(--grid-8);
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: var(--grid-4);
          "
        >
          <p style="color: var(--color-gray-500); font-size: var(--text-sm); margin: 0">
            © 2025 Newark AI Town Hall. All rights reserved.
          </p>
          <p style="color: var(--color-gray-500); font-size: var(--text-sm); margin: 0">
            Made with ❤️ for Newark
          </p>
        </div>
      </div>
    </footer>

    {# JavaScript #} {# Load with Eleventy url (pathPrefix) and fallback for local http-server #}
    <script
      src="{{ '/js/mobile-menu.js' | url }}"
      onerror="
        (function () {
          var s = document.createElement('script')
          s.src = '/js/mobile-menu.js'
          document.body.appendChild(s)
        })()
      "
    ></script>

    {# Cookie Consent Banner - GDPR Compliant #}
    <script
      src="{{ '/js/cookie-consent.js' | url }}"
      onerror="
        (function () {
          var s = document.createElement('script')
          s.src = '/js/cookie-consent.js'
          document.body.appendChild(s)
        })()
      "
    ></script>
  </body>
</html>
